---
phase: 02-guild-management
plan: 02
type: execute
wave: 2
depends_on: ["02-01"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User sees a list of guilds where they have manage permissions"
    - "User can select a guild and view its details (settings, usage stats)"
    - "User can switch between guilds via a guild switcher without page reload"
    - "Guild list shows only guilds user currently has access to"
  artifacts: []
  key_links: []
---

<objective>
Verify Phase 2 (Guild Management) is complete by testing all success criteria through manual functional verification.

Purpose: Ensure all guild management features work correctly before marking Phase 2 complete and moving to Phase 3.

Output: Verified phase completion or list of issues to address.
</objective>

<execution_context>
@/Users/gabrielleal/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gabrielleal/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-guild-management/02-RESEARCH.md

Phase 2 Success Criteria from ROADMAP.md:
1. User sees a list of guilds where they have manage permissions
2. User can select a guild and view its details (settings, usage stats)
3. User can switch between guilds via a guild switcher without page reload
4. Guild list shows only guilds user currently has access to (no stale permissions)
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete Phase 2 Guild Management implementation:
- Guild list page showing all accessible guilds with status indicators
- Guild detail page with bot status, usage stats, and brands preview
- Guild switcher dropdown in topbar for quick navigation
- API routes proxying to backend for guild data
  </what-built>
  <how-to-verify>
**Prerequisites:**
- Start development server: `npm run dev`
- Ensure you're logged in with Discord OAuth
- Have at least one guild configured in the backend

**Test 1: Guild List (Success Criteria #1 and #4)**
1. Navigate to http://localhost:3000/guilds
2. Verify you see cards for each accessible guild
3. Each card should show: guild name, client name, brand count, account count
4. If no guilds, verify empty state message appears

**Test 2: Guild Details (Success Criteria #2)**
1. Click on a guild card to navigate to `/guilds/[guildId]`
2. Verify guild detail page shows:
   - Guild name and client name in header
   - Bot status indicator (online/offline with heartbeat info)
   - Stats grid: Total Brands, Total Accounts, Total Posts, Pending Jobs
   - Quick access cards for Brands, Accounts, Posts
   - Brands preview list (if guild has brands)
3. Verify loading states appear while data fetches

**Test 3: Guild Switcher (Success Criteria #3)**
1. While on any guild page, locate the guild switcher in the topbar
2. Click to open dropdown - verify all guilds appear
3. Current guild should be highlighted with purple background + checkmark
4. Click a different guild - verify navigation to that guild's page
5. Verify no full page reload (only partial re-render)

**Test 4: Keyboard Accessibility**
1. Focus the guild switcher with Tab
2. Press Enter to open dropdown
3. Use arrow keys to navigate between guilds
4. Press Enter to select a guild
5. Press Escape to close without selection

**Test 5: Mobile Responsiveness**
1. Resize browser to mobile width (<1024px)
2. Verify guild switcher is still accessible
3. Verify dropdown items have adequate touch targets (not cramped)
4. Test on actual mobile device if available
  </how-to-verify>
  <resume-signal>
Type one of:
- "approved" - All tests pass, Phase 2 is complete
- "issues: [describe problems]" - List any failing tests or issues found
  </resume-signal>
</task>

</tasks>

<verification>
This plan IS the verification checkpoint. No additional verification needed.
</verification>

<success_criteria>
All Phase 2 success criteria verified:
1. Guild list displays accessible guilds
2. Guild detail shows settings and usage stats
3. Guild switcher enables quick navigation
4. Permissions enforced (API-level filtering)

User confirms "approved" after manual testing.
</success_criteria>

<output>
After completion, create `.planning/phases/02-guild-management/02-02-SUMMARY.md`

If issues found, create `.planning/phases/02-guild-management/02-VERIFICATION.md` documenting gaps.
</output>
