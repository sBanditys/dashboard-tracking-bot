---
phase: 01-foundation-authentication
plan: 05
type: execute
wave: 4
depends_on: ["01-04", "01-02"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "User can log in via Discord OAuth and see their username/avatar"
    - "User session persists across browser refresh without re-login"
    - "User can log out from any page and is redirected to login"
    - "Dashboard displays in dark mode with responsive layout on mobile devices"
    - "Terms of service and privacy policy pages are accessible"
  artifacts: []
  key_links: []
---

<objective>
Verify the complete Phase 1 implementation through visual and functional testing.

Purpose: Ensure all Phase 1 success criteria are met before proceeding to Phase 2.
Output: Verified working authentication flow with responsive dashboard shell.
</objective>

<execution_context>
@/Users/gabrielleal/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gabrielleal/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-authentication/01-CONTEXT.md
@.planning/phases/01-foundation-authentication/01-01-SUMMARY.md
@.planning/phases/01-foundation-authentication/01-02-SUMMARY.md
@.planning/phases/01-foundation-authentication/01-03-SUMMARY.md
@.planning/phases/01-foundation-authentication/01-04-SUMMARY.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Verify authentication flow and dashboard UI</name>
  <what-built>
    Complete Phase 1 implementation:
    - Discord OAuth login flow
    - Persistent sessions with HttpOnly cookies
    - Logout with confirmation
    - Responsive dashboard layout (sidebar + topbar + mobile drawer)
    - Dark mode with theme toggle
    - Legal pages (Terms, Privacy)
  </what-built>
  <how-to-verify>
    **Prerequisites:**
    - Ensure NEXT_PUBLIC_API_URL points to your running API server
    - Ensure API has Discord OAuth endpoints configured

    **Authentication Flow:**
    1. Open http://localhost:3000 in browser
    2. Verify redirect to /login (unauthenticated)
    3. Verify login page shows branded design with Discord button
    4. Click "Sign in with Discord" button
    5. Complete Discord OAuth flow
    6. Verify redirect back to dashboard with user info displayed
    7. Verify username and avatar appear in top bar
    8. Refresh browser - verify session persists (no re-login)

    **Logout Flow:**
    9. Click user avatar in top bar
    10. Click "Sign out" in dropdown
    11. Verify confirmation appears
    12. Confirm logout
    13. Verify redirect to login page
    14. Verify cookie is cleared (DevTools > Application > Cookies)

    **Responsive Design:**
    15. Resize browser to mobile width (<1024px)
    16. Verify sidebar disappears, hamburger menu appears
    17. Click hamburger - verify drawer slides in
    18. Click a nav item - verify drawer closes
    19. Click outside drawer - verify it closes

    **Theme Toggle:**
    20. Click theme toggle button
    21. Verify switch between dark and light mode
    22. Refresh - verify theme preference persists

    **Legal Pages:**
    23. Navigate to /legal/terms - verify content loads
    24. Navigate to /legal/privacy - verify content loads
    25. Verify these pages work without authentication

    **Error Handling:**
    26. In new incognito window, navigate directly to /
    27. Verify redirect to /login with callbackUrl preserved
  </how-to-verify>
  <resume-signal>
    Type "approved" if all checks pass.

    If issues found, describe:
    - Which step failed
    - What you expected vs what happened
    - Any console errors visible
  </resume-signal>
</task>

</tasks>

<verification>
All Phase 1 success criteria validated through manual testing.
</verification>

<success_criteria>
From ROADMAP Phase 1:
1. User can log in via Discord OAuth and see their username/avatar
2. User session persists across browser refresh without re-login
3. User can log out from any page and is redirected to login
4. Dashboard displays in dark mode with responsive layout on mobile devices
5. Terms of service and privacy policy pages are accessible
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-authentication/01-05-SUMMARY.md`
</output>
