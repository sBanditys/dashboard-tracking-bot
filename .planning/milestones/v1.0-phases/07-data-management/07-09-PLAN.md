---
phase: 07-data-management
plan: 09
type: execute
wave: 4
depends_on: ["07-06", "07-07", "07-08"]
files_modified:
  - src/components/layout/sidebar.tsx
  - src/app/(dashboard)/guilds/[guildId]/page.tsx
  - src/components/guild-tabs.tsx
autonomous: false

must_haves:
  truths:
    - "User can navigate to Exports page from sidebar and guild tabs"
    - "User can navigate to Deleted Items from guild settings area"
    - "Guild overview shows quick access card for data management"
    - "All Phase 7 features are accessible and wired together"
  artifacts:
    - path: "src/components/layout/sidebar.tsx"
      provides: "Sidebar with Exports link and Deleted Items link"
      contains: "Deleted Items"
    - path: "src/app/(dashboard)/guilds/[guildId]/page.tsx"
      provides: "Guild overview with data management quick access"
      contains: "Exports"
    - path: "src/components/guild-tabs.tsx"
      provides: "Guild tabs with Exports tab"
      contains: "Exports"
  key_links:
    - from: "src/components/layout/sidebar.tsx"
      to: "/guilds/[guildId]/settings/trash"
      via: "Link to trash page"
      pattern: "settings/trash"
    - from: "src/components/guild-tabs.tsx"
      to: "/guilds/[guildId]/exports"
      via: "Tab link"
      pattern: "exports"
---

<objective>
Final integration: wire all Phase 7 features into navigation and guild overview. Includes visual verification checkpoint.

Purpose: Ensures all data management features are discoverable through the sidebar, guild tabs, and guild overview. Adds the "Deleted Items" link to guild settings navigation.
Output: Updated sidebar, guild tabs, and guild overview with Phase 7 navigation links.
</objective>

<execution_context>
@/Users/gabrielleal/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gabrielleal/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-data-management/07-CONTEXT.md
@.planning/phases/07-data-management/07-06-SUMMARY.md
@.planning/phases/07-data-management/07-07-SUMMARY.md
@.planning/phases/07-data-management/07-08-SUMMARY.md
@src/components/layout/sidebar.tsx
@src/components/guild-tabs.tsx
@src/app/(dashboard)/guilds/[guildId]/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Navigation integration</name>
  <files>src/components/layout/sidebar.tsx, src/components/guild-tabs.tsx, src/app/(dashboard)/guilds/[guildId]/page.tsx</files>
  <action>
Read all three files first, then make targeted additions.

**Update `src/components/layout/sidebar.tsx`:**

The Exports link was already added in 07-07. Now add "Deleted Items" link under the guild-specific section. Add it after the Exports link:

```tsx
<Link
  href={`/guilds/${guildId}/settings/trash`}
  onClick={onNavigate}
  className={cn(
    'flex items-center gap-3 px-3 py-2 rounded-sm text-sm font-medium transition-colors',
    pathname.includes('/settings/trash')
      ? 'bg-accent-purple text-white'
      : 'text-gray-300 hover:bg-surface/50 hover:text-white'
  )}
>
  <span className="text-lg">üóëÔ∏è</span>
  Deleted Items
</Link>
```

**Update `src/components/guild-tabs.tsx`:**

Read the current file. Add an "Exports" tab to the guild tab navigation bar. It should be after the existing tabs (Overview, Accounts, Posts, Brands). Follow the exact same pattern as existing tabs.

**Update `src/app/(dashboard)/guilds/[guildId]/page.tsx`:**

Add a "Data Management" quick access section to the guild overview page. Place it after the existing quick access cards grid (Brands, Accounts, Posts).

Add a new grid row with two cards:

1. **Exports card:**
```tsx
<Link
  href={`/guilds/${guildId}/exports`}
  className="bg-surface border border-border rounded-sm p-6 hover:border-accent-purple/50 transition-colors"
>
  <h3 className="text-lg font-semibold text-white mb-2">Exports</h3>
  <p className="text-sm text-gray-400">
    Download your tracking data in CSV, JSON, or XLSX format
  </p>
</Link>
```

2. **Deleted Items card:**
```tsx
<Link
  href={`/guilds/${guildId}/settings/trash`}
  className="bg-surface border border-border rounded-sm p-6 hover:border-accent-purple/50 transition-colors"
>
  <h3 className="text-lg font-semibold text-white mb-2">Deleted Items</h3>
  <p className="text-sm text-gray-400">
    View and restore recently deleted accounts and posts
  </p>
</Link>
```

Place these in a `<div className="grid gap-4 md:grid-cols-2">` after the existing quick access cards, before the Analytics Preview section.
  </action>
  <verify>Run `npx tsc --noEmit` from dashboard root. No type errors. Read all three files to verify changes.</verify>
  <done>Sidebar shows Exports and Deleted Items links. Guild tabs include Exports tab. Guild overview has data management quick access cards.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete Phase 7 Data Management features:
1. Selection system: checkboxes on account/post cards with shift-click range selection
2. Bulk operations: delete (soft-delete), export selected, reassign (accounts only)
3. Type-to-confirm modals for all destructive/bulk operations
4. Export system: dropdown on data pages + dedicated export page with config + history
5. Trash: deleted items page under settings with restore and permanent delete
6. Navigation: sidebar links, guild tabs, overview cards for exports and trash
  </what-built>
  <how-to-verify>
1. Navigate to a guild's Accounts page
2. Verify checkboxes appear on each account card
3. Click one checkbox, verify selection bar appears at bottom with "1 selected"
4. Hold Shift and click another checkbox, verify range selection works
5. Verify selection bar shows Delete, Export, and Reassign buttons
6. Click Delete, verify type-to-confirm modal appears requiring count input
7. Navigate to Posts page, verify same selection behavior (no Reassign button)
8. Check Export dropdown in the filter bar area ‚Äî should show CSV/JSON/XLSX options
9. Navigate to Exports page via sidebar ‚Äî verify config form and history table
10. Navigate to Deleted Items via sidebar ‚Äî verify trash page with tabs
11. Verify guild overview has Exports and Deleted Items quick access cards
12. Verify guild tabs include Exports
  </how-to-verify>
  <resume-signal>Type "approved" to complete Phase 7, or describe any issues to address.</resume-signal>
</task>

</tasks>

<verification>
- `npx tsc --noEmit` passes with no errors
- All navigation paths work (sidebar, guild tabs, overview cards)
- Selection, bulk operations, exports, and trash features are accessible
- Phase 7 success criteria met
</verification>

<success_criteria>
Phase 7 success criteria verification:
1. User can request and download data exports (CSV/JSON/XLSX format) - via export dropdown on data pages and dedicated export page
2. User can select multiple items and perform bulk operations (delete/reassign) - via checkboxes, shift-click, and selection bar
3. Export includes all tracked accounts, posts, and configuration - export config form offers both data types
4. Bulk operations show confirmation with count of affected items - type-to-confirm modals require count input
5. (Additional) Soft delete with trash recovery within 30 days
6. (Additional) Export history with download links on dedicated page
</success_criteria>

<output>
After completion, create `.planning/phases/07-data-management/07-09-SUMMARY.md`
</output>
