---
phase: 05-configuration-mutations
plan: 07
type: execute
wave: 4
depends_on: ["05-03", "05-04", "05-06"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All 5 success criteria from ROADMAP.md are met"
    - "Visual verification confirms functionality works as expected"
---

<objective>
Verify all Phase 5 functionality works correctly through visual and functional testing.

Purpose: Ensure all configuration and mutation features work as expected before marking the phase complete. This checkpoint confirms CONF-01 through CONF-05 requirements are satisfied.

Output: Verification status documented, any issues identified for fixing.
</objective>

<execution_context>
@/Users/gabrielleal/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gabrielleal/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-configuration-mutations/05-CONTEXT.md
</context>

<tasks>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete configuration and mutation system for Phase 5:
- Guild settings form with channel selection
- Add account/brand modals with validation
- Delete confirmation modals
- Audit log with filtering and diff display
- Activity page in sidebar navigation
  </what-built>
  <how-to-verify>
Start the development server: `npm run dev`

**1. Edit Guild Settings (CONF-01, CONF-04)**
- Navigate to /guilds/{guildId}
- Locate the Guild Settings form
- Click on the Logs Channel dropdown
- Type to search for a channel
- Select a channel
- Verify: Change saves (status indicator shows), page doesn't reload

**2. Add Tracked Account (CONF-02)**
- Navigate to /guilds/{guildId}/accounts
- Click "Add Account" button
- Fill in: Platform (select), Username (@handle), Brand (select)
- Submit the form
- Verify: Modal closes, new account appears in list

**3. Add Brand (CONF-02)**
- Navigate to /guilds/{guildId}/brands
- Click "Add Brand" button
- Enter a brand label
- Submit
- Verify: Modal closes, new brand appears in list

**4. Delete Account (CONF-03)**
- On the Accounts page, find an account card
- Click "Delete" button
- Verify: Confirmation modal appears with account name
- Click "Delete" in modal
- Verify: Modal closes, account removed from list

**5. Delete Brand (CONF-03)**
- On the Brands page, click "Delete" on a brand
- Verify: Confirmation modal shows brand name
- Confirm deletion
- Verify: Brand removed from list

**6. View Audit Log (CONF-05)**
- Click "Activity" in sidebar (visible when on guild pages)
- Verify: Activity page loads with audit log table
- Verify: Table shows Time, User, Action, Details columns
- If changes were made, verify diff display (old -> new values)
- Test filters: Select a user filter, select an action type filter
- Verify: Table filters correctly

**7. Channel Permission Warning**
- In settings form, check if any channel shows "(may lack permissions)" warning
- This indicates bot_has_access: false for that channel
  </how-to-verify>
  <resume-signal>Type "approved" if all verifications pass, or describe issues encountered</resume-signal>
</task>

</tasks>

<verification>
Human verification required for:
1. Settings form saves changes without page reload
2. Add modals open, validate, submit, and close correctly
3. Delete confirmations show item name and complete correctly
4. Audit log displays with filters and diff formatting
5. Activity page accessible from sidebar
6. Channel combobox is searchable with permission warnings
</verification>

<success_criteria>
**ROADMAP.md Success Criteria for Phase 5:**
1. User can edit guild settings and see changes reflected immediately - Verified
2. User can add new tracked accounts/brands and see them in the list - Verified
3. User can remove tracked items with confirmation dialog - Verified
4. User can select Discord channels for notifications via dropdown - Verified
5. User can view audit log showing who changed what and when - Verified
</success_criteria>

<output>
After completion, create `.planning/phases/05-configuration-mutations/05-07-SUMMARY.md`
</output>
