---
phase: 08-polish-optimization
plan: 09
type: execute
wave: 4
depends_on: ["08-06", "08-07", "08-08"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Dashboard initial load completes within 2 seconds on 3G connection"
    - "Page transitions feel instant (under 100ms perceived latency)"
    - "Large guilds (1000+ tracked items) render without performance degradation"
    - "Error boundaries gracefully handle API failures with actionable messages"
    - "All edge cases (empty states, network errors, permission changes) have clear UX"
  artifacts: []
  key_links: []
---

<objective>
Visual and functional verification of all Phase 8 optimizations. Build the project and verify all success criteria are met.

Purpose: Final verification that all polish and optimization work is complete and working together.
Output: Verification results confirming Phase 8 success criteria.
</objective>

<execution_context>
@/Users/gabrielleal/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gabrielleal/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-polish-optimization/08-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build verification and TypeScript check</name>
  <files></files>
  <action>
    1. Run `npx tsc --noEmit` to verify no TypeScript errors across the entire project
    2. Run `npm run build` to verify production build succeeds
    3. Run `npm run lint` to check for linting issues
    4. Verify all new files are properly imported (no orphaned modules)
    5. Check that all dependencies are properly installed: `npm ls bprogress sonner @next/bundle-analyzer`
    6. Run bundle analysis: `ANALYZE=true npm run build` to verify code splitting is working (Recharts should be in a separate chunk)

    Fix any issues found. This task ensures the entire codebase is clean after all Phase 8 changes.
  </action>
  <verify>
    - `npx tsc --noEmit` exits with 0
    - `npm run build` exits with 0
    - No orphaned imports or unused variables
  </verify>
  <done>
    Full project builds cleanly with no TypeScript errors, lint issues, or build failures.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    Complete Phase 8 polish and optimization:
    - Branded accent-purple progress bar on route transitions
    - Toast notification system (dark themed, max 3 stacked)
    - Error boundaries at 3 levels (global, dashboard, guild)
    - Offline detection banner
    - fetchWithRetry with 429 exponential backoff
    - Optimistic updates on mutations
    - Toast notifications on all mutation success/error
    - Persistent filter state across back/forward navigation
    - Skeleton flash fix (cached data shown instantly)
    - Loaded count display
    - Code splitting for analytics (Recharts lazy loaded)
    - Avatar lazy loading with blur-up
    - Bulk operation 100-item cap
    - Expired export badges with disabled download
    - Zero-guild empty state message
    - Concurrent edit detection on settings
    - Ctrl+K keyboard shortcut for search
    - Unsaved changes warning on form modals
    - SSE tab visibility lifecycle
    - React Query gcTime configured
    - Bundle analyzer setup
  </what-built>
  <how-to-verify>
    Run `npm run dev` and verify:

    1. **Progress bar**: Navigate between pages — purple progress bar should appear at top of viewport during transitions
    2. **Toast system**: Trigger a mutation (delete an account, change settings) — toast should appear in top-right
    3. **Error boundary**: Temporarily break an API route — dashboard should show error page with "Try Again" button
    4. **Offline banner**: Disconnect network in DevTools — yellow banner should appear, reconnect — banner should dismiss
    5. **Cached data**: Visit accounts page, navigate away, navigate back — data should appear instantly without skeleton
    6. **Filter persistence**: Set filters on accounts page, navigate away, press Back — filters should be preserved
    7. **Ctrl+K**: On accounts page, press Ctrl+K (or Cmd+K on Mac) — search input should focus
    8. **Loaded count**: On accounts page — should show "X accounts" count near the list
    9. **Expired exports**: Check export history for old exports — should show "Expired" badge
    10. **Bulk cap**: Select more than 100 items (if possible) — should show warning
    11. **Analytics lazy load**: Open DevTools Network tab, navigate to analytics — Recharts should load as separate chunk

    Optional deeper checks:
    - Settings form: Change a setting in another tab, then try saving in current tab — should see stale data warning
    - Tab switching: Open bot status page, switch to another tab, switch back — SSE should reconnect
  </how-to-verify>
  <resume-signal>Type "approved" or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
All Phase 8 success criteria verified:
1. Dashboard initial load completes within 2 seconds on 3G connection
2. Page transitions feel instant (under 100ms perceived latency)
3. Large guilds (1000+ tracked items) render without performance degradation
4. Error boundaries gracefully handle API failures with actionable messages
5. All edge cases (empty states, network errors, permission changes) have clear UX
</verification>

<success_criteria>
- Build succeeds with zero errors
- All visual and functional checks pass
- User approves the implementation
</success_criteria>

<output>
After completion, create `.planning/phases/08-polish-optimization/08-09-SUMMARY.md`
</output>
