---
phase: 01-foundation-authentication
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - tsconfig.json
  - tailwind.config.ts
  - postcss.config.mjs
  - next.config.ts
  - src/app/layout.tsx
  - src/app/providers.tsx
  - src/app/globals.css
  - src/lib/utils.ts
  - .env.example
  - .gitignore
autonomous: true

must_haves:
  truths:
    - "Next.js dev server starts without errors"
    - "Tailwind classes compile and apply to elements"
    - "Theme provider initializes with dark mode as default"
    - "React Query provider is available to all components"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies"
      contains: "next"
    - path: "src/app/layout.tsx"
      provides: "Root layout with providers"
      contains: "Providers"
    - path: "src/app/providers.tsx"
      provides: "Client providers wrapper"
      contains: "ThemeProvider"
    - path: "tailwind.config.ts"
      provides: "Tailwind configuration with dark mode"
      contains: "darkMode"
  key_links:
    - from: "src/app/layout.tsx"
      to: "src/app/providers.tsx"
      via: "Providers component wrapping children"
      pattern: "<Providers>"
    - from: "src/app/providers.tsx"
      to: "next-themes"
      via: "ThemeProvider import and usage"
      pattern: "ThemeProvider.*attribute.*class"
---

<objective>
Initialize the Next.js 14 project with the foundational infrastructure for the tracking dashboard.

Purpose: Create the project skeleton with all required dependencies configured so subsequent plans can build features immediately.
Output: Working Next.js dev environment with Tailwind CSS, React Query, next-themes, and dark mode defaults.
</objective>

<execution_context>
@/Users/gabrielleal/.claude/get-shit-done/workflows/execute-plan.md
@/Users/gabrielleal/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-authentication/01-RESEARCH.md
@.planning/phases/01-foundation-authentication/01-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Next.js project with dependencies</name>
  <files>
    package.json
    tsconfig.json
    next.config.ts
    postcss.config.mjs
    .gitignore
    .env.example
  </files>
  <action>
    Initialize a new Next.js 14 project using create-next-app with TypeScript, Tailwind CSS, ESLint, and App Router:

    ```bash
    npx create-next-app@14 . --typescript --tailwind --eslint --app --src-dir --import-alias "@/*" --use-npm
    ```

    Install additional dependencies:
    ```bash
    npm install @tanstack/react-query next-themes clsx zod
    ```

    Create .env.example with placeholder values:
    ```
    # API Configuration
    NEXT_PUBLIC_API_URL=https://api.example.com

    # Session
    SESSION_SECRET=your-session-secret-min-32-chars
    ```

    Update .gitignore to include:
    - .env.local
    - .env*.local
  </action>
  <verify>
    Run `npm run dev` and confirm server starts on http://localhost:3000 without errors.
    Run `npm ls @tanstack/react-query next-themes clsx zod` to confirm dependencies installed.
  </verify>
  <done>
    Next.js dev server runs, all dependencies installed, .env.example exists with documented vars.
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure Tailwind with dark mode and custom theme</name>
  <files>
    tailwind.config.ts
    src/app/globals.css
    src/lib/utils.ts
  </files>
  <action>
    Update tailwind.config.ts with:
    - darkMode: 'class' (for next-themes compatibility)
    - Custom color palette:
      - background.DEFAULT: '#1a1a1a' (dark), '#ffffff' (light)
      - surface.DEFAULT: '#2d2d2d' (dark), '#f5f5f5' (light)
      - accent.purple: '#8B5CF6'
      - border colors matching the soft dark aesthetic
    - Extend font family if needed (system fonts are fine)

    Update globals.css:
    - Remove default Next.js styles
    - Add base layer styles for body with dark mode colors
    - Set antialiased text rendering
    - Add CSS variables for consistent theming if needed

    Create src/lib/utils.ts with:
    - cn() function using clsx for conditional class composition
    - Type-safe utility for combining Tailwind classes

    Example cn function:
    ```typescript
    import { clsx, type ClassValue } from 'clsx'

    export function cn(...inputs: ClassValue[]) {
      return clsx(inputs)
    }
    ```
  </action>
  <verify>
    Create a test page with `className="bg-background text-white dark:bg-background"` and confirm styles apply.
    Import and use cn() function to verify it works.
  </verify>
  <done>
    Tailwind configured with dark mode class strategy, custom colors defined, cn() utility available.
  </done>
</task>

<task type="auto">
  <name>Task 3: Set up providers with React Query and theme</name>
  <files>
    src/app/providers.tsx
    src/app/layout.tsx
  </files>
  <action>
    Create src/app/providers.tsx as a client component ('use client'):
    - QueryClientProvider with QueryClient configured:
      - staleTime: 5 minutes
      - retry: 1
      - refetchOnWindowFocus: false
    - ThemeProvider from next-themes:
      - attribute="class"
      - defaultTheme="dark"
      - enableSystem={true}
    - Use useState to create QueryClient (prevents hydration issues)

    Update src/app/layout.tsx:
    - Import and wrap children with Providers component
    - Add suppressHydrationWarning to html tag (prevents theme hydration warnings)
    - Set lang="en"
    - Add metadata: title "Tracking Dashboard", description for the app
    - Use Inter font from next/font/google (or keep system fonts)

    Structure:
    ```tsx
    // layout.tsx
    export default function RootLayout({ children }) {
      return (
        <html lang="en" suppressHydrationWarning>
          <body>
            <Providers>{children}</Providers>
          </body>
        </html>
      )
    }
    ```
  </action>
  <verify>
    Run dev server, open browser DevTools:
    - Confirm html element has class="dark" on load
    - Confirm no hydration warnings in console
    - Check React DevTools for QueryClientProvider and ThemeProvider in component tree
  </verify>
  <done>
    Providers wrap entire app, dark theme applies by default, React Query available throughout app.
  </done>
</task>

</tasks>

<verification>
After all tasks complete:

1. `npm run dev` starts without errors
2. `npm run build` completes successfully
3. Browser shows dark-themed default page
4. No console errors related to hydration or providers
5. React DevTools shows proper provider hierarchy
</verification>

<success_criteria>
- Next.js 14 App Router project initialized with src directory
- Dependencies installed: @tanstack/react-query, next-themes, clsx, zod
- Tailwind configured with class-based dark mode
- Custom color palette with #1a1a1a background, #8B5CF6 accent
- Providers component wrapping app with QueryClient and ThemeProvider
- Dark mode is the default theme
- No TypeScript errors, no ESLint errors
- Dev server runs cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-authentication/01-01-SUMMARY.md`
</output>
